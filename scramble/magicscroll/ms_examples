import asyncio
from .magic_scroll import MagicScroll

async def test_magicscroll():
    # Initialize MagicScroll
    scroll = MagicScroll()
    
    # Write some test conversations
    conv1_id = await scroll.write_conversation(
        "The quantum nature of consciousness raises interesting questions about free will and determinism."
    )
    print(f"Added first conversation: {conv1_id}")
    
    conv2_id = await scroll.write_conversation(
        "Neural networks are inspired by biological brains, but they work quite differently."
    )
    print(f"Added second conversation: {conv2_id}")
    
    # Test semantic search
    print("\nSearching for 'consciousness':")
    results = await scroll.remember("consciousness and the mind", limit=2)
    for result in results:
        print(f"Score: {result['score']:.3f}")
        print(f"Content: {result['entry'].content}")
    
    print("\nSearching for 'neural':")
    results = await scroll.remember("neural computation", limit=2)
    for result in results:
        print(f"Score: {result['score']:.3f}")
        print(f"Content: {result['entry'].content}")

# Run the test
if __name__ == "__main__":
    asyncio.run(test_magicscroll())